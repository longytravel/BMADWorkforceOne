# Story 1.3: Set Up Project Structure

**Epic:** Epic 1 - Foundation & Demo Infrastructure
**Story Points:** 2
**Priority:** P0 - Critical

---

## Status

Ready for Review

---

## Story

**As a** developer,
**I want** to create the complete project folder structure and organizational conventions,
**so that** all subsequent features can be developed in a consistent, well-organized manner.

---

## Acceptance Criteria

1. **Given** I need to organize code, **When** I create the folder structure, **Then** I should have folders for `components`, `logic`, `services`, `stores`, `types`, `hooks`, and `utils`
2. **Given** I need TypeScript support, **When** I create the folder structure, **Then** each folder should have an `index.ts` barrel export file
3. **Given** I need demo data, **When** I create the public folder structure, **Then** I should have a `public/demo-data/` directory ready for JSON files
4. **Given** I need type definitions, **When** I create the types folder, **Then** I should have initial TypeScript interfaces for Agent, Activity, CvDDataPoint, and ComplianceRule
5. **Given** I need consistent styling, **When** I move global styles, **Then** I should have a `src/styles/` folder with `globals.css` and organized CSS structure
6. **Given** the folder structure exists, **When** I run the dev server, **Then** the project should build successfully with the new structure

---

## Tasks / Subtasks

- [x] Create core application folders (AC: 1, 2)
  - [x] Create `src/components/` with subdirectories: `Layout/`, `ui/` (Shadcn components already here)
  - [x] Create `src/logic/` for business logic (IOI calculator, coverage calculator, etc.)
  - [x] Create `src/services/` for data loading and utilities
  - [x] Create `src/stores/` for Zustand state management
  - [x] Create `src/types/` for TypeScript interfaces and types
  - [x] Create `src/hooks/` for custom React hooks
  - [x] Create `src/utils/` for helper functions
  - [x] Create `src/styles/` for CSS files
  - [x] Add `index.ts` barrel exports to each folder

- [x] Create component subdirectories (AC: 1)
  - [x] Create `src/components/Layout/` (AppShell, Header, ErrorBoundary, LoadingScreen)
  - [x] Create `src/components/CvDHeatmap/` (future: heatmap components)
  - [x] Create `src/components/Calendar/` (future: calendar components)
  - [x] Create `src/components/SmartSearch/` (future: smart search modal)
  - [x] Create `src/components/AuditLog/` (future: audit log components)
  - [x] Create `src/components/NotificationPreview/` (future: notification previews)
  - [x] Note: These folders will initially be empty (placeholder for future stories)

- [x] Set up demo data structure (AC: 3)
  - [x] Create `public/demo-data/` directory
  - [x] Create placeholder `.gitkeep` file in `public/demo-data/` (actual JSON files created in Story 1.4)
  - [x] Document expected files: agents.json, schedules.json, cvd-forecast.json, compliance-rules.json

- [x] Create initial TypeScript type definitions (AC: 4)
  - [x] Create `src/types/index.ts` with core data model interfaces
  - [x] Define `Agent` interface (id, name, email, skills, team, etc.)
  - [x] Define `Activity` interface (id, agentId, type, title, startDateTime, endDateTime, etc.)
  - [x] Define `CvDDataPoint` interface (intervalStart, dayOfWeek, timeSlot, coverage, etc.)
  - [x] Define `ComplianceRule` interface (id, type, description, parameters, etc.)
  - [x] Define `ActivityType` enum (shift, break, lunch, meeting, training, off-phone, unavailable)
  - [x] Define `RiskLevel` enum (safe, caution, risk)
  - [x] Create `src/types/constants.ts` for ActivityColors mapping

- [x] Organize styling structure (AC: 5)
  - [x] Move Tailwind globals to `src/styles/globals.css` if not already there
  - [x] Create `src/styles/theme.css` for CSS custom properties
  - [x] Update `main.tsx` to import from new styles location

- [x] Update configuration paths (AC: 6)
  - [x] Update `vite.config.ts` to include path aliases (@/ → src/)
  - [x] Update `tsconfig.json` with path mappings for cleaner imports
  - [x] Test imports using `@/components`, `@/types`, etc.

- [x] Verify build and structure (AC: 6)
  - [x] Run `npm run dev` - verify no errors
  - [x] Test import: `import { Agent } from '@/types'`
  - [x] Run `npm run build` - verify successful build

---

## Dev Notes

### Complete Project Structure (from Architecture)

```
wfm-intelligence-demo/
├── public/
│   ├── demo-data/              # Demo JSON files (Story 1.4)
│   │   ├── .gitkeep            # Placeholder
│   │   ├── agents.json         # (Created in Story 1.4)
│   │   ├── schedules.json      # (Created in Story 1.4)
│   │   ├── cvd-forecast.json   # (Created in Story 1.4)
│   │   └── compliance-rules.json # (Created in Story 1.4)
│   └── vite.svg
├── src/
│   ├── components/
│   │   ├── Layout/
│   │   │   └── index.ts        # Barrel export (empty initially)
│   │   ├── CvDHeatmap/
│   │   │   └── index.ts
│   │   ├── Calendar/
│   │   │   └── index.ts
│   │   ├── SmartSearch/
│   │   │   └── index.ts
│   │   ├── AuditLog/
│   │   │   └── index.ts
│   │   ├── NotificationPreview/
│   │   │   └── index.ts
│   │   └── ui/                 # Shadcn components (already exists)
│   ├── logic/
│   │   └── index.ts            # Business logic functions
│   ├── services/
│   │   └── index.ts            # Data loading, CSV export
│   ├── stores/
│   │   └── index.ts            # Zustand state management
│   ├── types/
│   │   ├── index.ts            # Main type exports
│   │   └── constants.ts        # Enums and constants
│   ├── hooks/
│   │   └── index.ts            # Custom React hooks
│   ├── utils/
│   │   └── index.ts            # Helper functions
│   ├── styles/
│   │   ├── globals.css         # Tailwind directives
│   │   └── theme.css           # CSS custom properties
│   ├── App.tsx
│   ├── main.tsx
│   └── vite-env.d.ts
├── docs/                        # Documentation (already exists)
├── .gitignore
├── package.json
├── tsconfig.json
├── vite.config.ts
└── README.md                    # (Created in Story 1.8)
```

### TypeScript Interface Examples (from Architecture)

**Agent Interface:**
```typescript
interface Agent {
  id: string;
  name: string;
  email: string;
  skills: string[];
  team: string;
  employmentType: 'full-time' | 'part-time';
  weeklySchedule: WeeklySchedule;
  metadata: {
    meetingsThisWeek: number;
    breakAdjustmentsThisWeek: number;
    lastScheduledDate?: string;
  };
}
```

**Activity Interface:**
```typescript
type ActivityType =
  | 'shift'
  | 'break'
  | 'lunch'
  | 'meeting'
  | 'training'
  | 'off-phone'
  | 'unavailable';

interface Activity {
  id: string;
  agentId: string;
  type: ActivityType;
  title: string;
  startDateTime: string; // ISO 8601
  endDateTime: string;
  durationMinutes: number;
  isMovable: boolean;
  color: string;
  metadata: {
    attendees?: string[];
    reason?: string;
    ioiScore?: number;
  };
}
```

### Path Alias Configuration

**vite.config.ts:**
```typescript
import path from 'path';
import { defineConfig } from 'vite';
import react from '@vitejs/plugin-react';

export default defineConfig({
  plugins: [react()],
  resolve: {
    alias: {
      '@': path.resolve(__dirname, './src'),
    },
  },
});
```

**tsconfig.json (add to compilerOptions):**
```json
{
  "compilerOptions": {
    "baseUrl": ".",
    "paths": {
      "@/*": ["./src/*"]
    }
  }
}
```

### Testing

**Testing Standards:**
- No unit tests required for folder structure creation
- Manual verification: All folders created with correct names
- Manual verification: TypeScript interfaces compile without errors
- Manual verification: Path aliases work for imports

**Test Validation:**
- All folders exist with `index.ts` barrel files
- Import `Agent` type from `@/types` works
- Run `npm run dev` - no errors
- Run `npm run build` - successful production build

---

## Change Log

| Date | Version | Description | Author |
|------|---------|-------------|--------|
| 2025-10-18 | 1.0 | Initial story creation | Sarah (PO) |
| 2025-10-18 | 1.1 | Story implementation completed - all folder structure, types, and configuration created successfully | James (Dev) |

---

## Dev Agent Record

### Agent Model Used

Claude Sonnet 4.5 (claude-sonnet-4-5-20250929)

### Debug Log References

No debug log entries required - all tasks completed without issues.

### Completion Notes

Successfully created complete project structure per all acceptance criteria:

1. **Folder Structure Created:**
   - Core application folders: logic/, services/, stores/, types/, hooks/, utils/, styles/
   - Component subdirectories: Layout/, CvDHeatmap/, Calendar/, SmartSearch/, AuditLog/, NotificationPreview/
   - All folders include index.ts barrel exports

2. **Demo Data Structure:**
   - Created public/demo-data/ directory with .gitkeep placeholder
   - Documented expected files for Story 1.4 (agents.json, schedules.json, cvd-forecast.json, compliance-rules.json)

3. **TypeScript Type Definitions:**
   - Created comprehensive type system in src/types/
   - Defined core interfaces: Agent, Activity, CvDDataPoint, ComplianceRule, WeeklySchedule
   - **Technical Note:** Replaced enums with const objects + type unions (ActivityType, RiskLevel) to comply with TypeScript strict mode `erasableSyntaxOnly` setting
   - Created ActivityColors mapping for Outlook-style calendar colors

4. **Styling Structure:**
   - Organized src/styles/ with globals.css (Tailwind + Shadcn theme) and theme.css (custom properties)
   - Added theme.css import to main.tsx

5. **Configuration:**
   - Path aliases (@/) already configured in vite.config.ts and tsconfig.app.json
   - Verified TypeScript strict mode compliance

6. **Validation:**
   - Build successful: `npm run build` completes without errors
   - Dev server successful: `npm run dev` starts on localhost:5174
   - All imports using @/ alias work correctly

**No technical debt introduced.** Structure ready for feature implementation in subsequent stories.

### File List

**Created/Modified Files:**

- wfm-intelligence-demo/src/logic/index.ts (new)
- wfm-intelligence-demo/src/services/index.ts (new)
- wfm-intelligence-demo/src/stores/index.ts (modified - added appStore export)
- wfm-intelligence-demo/src/types/index.ts (new)
- wfm-intelligence-demo/src/types/constants.ts (new)
- wfm-intelligence-demo/src/hooks/index.ts (new)
- wfm-intelligence-demo/src/utils/index.ts (new)
- wfm-intelligence-demo/src/styles/theme.css (new)
- wfm-intelligence-demo/src/components/Layout/index.ts (new)
- wfm-intelligence-demo/src/components/CvDHeatmap/index.ts (new)
- wfm-intelligence-demo/src/components/Calendar/index.ts (new)
- wfm-intelligence-demo/src/components/SmartSearch/index.ts (new)
- wfm-intelligence-demo/src/components/AuditLog/index.ts (new)
- wfm-intelligence-demo/src/components/NotificationPreview/index.ts (new)
- wfm-intelligence-demo/public/demo-data/.gitkeep (new)
- wfm-intelligence-demo/src/main.tsx (modified - added theme.css import)

---

## QA Results

*(This section will be populated by QA agent after implementation)*
